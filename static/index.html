<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Urban Rental DSS - Data Science Driven</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.css" />
    <link rel="stylesheet" href="style.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.heat/0.2.0/leaflet-heat.js"></script>
</head>

<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar glass">
            <div class="logo">
                <h2>Urban<span class="highlight">Move</span></h2>
            </div>
            <nav>
                <a href="#" class="nav-item active" onclick="showSection('dashboard')">
                    <span class="icon">DB</span> Dashboard
                </a>
                <a href="#" class="nav-item" onclick="showSection('map-view')">
                    <span class="icon">MAP</span> Map Explore
                </a>
                <a href="#" class="nav-item" onclick="showSection('predict')">
                    <span class="icon">AI</span> Rent Analytics
                </a>
                <a href="#" class="nav-item" onclick="showSection('trnd-view')">
                    <span class="icon">TRND</span> Trends & Forecast
                </a>
                <a href="#" class="nav-item" onclick="showSection('comp-view')">
                    <span class="icon">COMP</span> Compare Listings
                </a>
                <a href="#" class="nav-item" onclick="showSection('score-view')">
                    <span class="icon">SCORE</span> Locality Scorecard
                </a>
                <a href="#" class="nav-item" onclick="showSection('alrt-view')">
                    <span class="icon">ALRT</span> Alerts
                </a>
                <a href="#" class="nav-item" onclick="showSection('sim-view')">
                    <span class="icon">SIM</span> Similar Homes
                </a>
                <a href="#" class="nav-item" onclick="showSection('anom-view')">
                    <span class="icon">ANOM</span> Price Intelligence
                </a>
                <a href="#" class="nav-item" onclick="showSection('comm-view')">
                    <span class="icon">COMM</span> Commute Planner
                </a>
                <a href="#" class="nav-item" onclick="showSection('lab-view')">
                    <span class="icon">LAB</span> Model Lab
                </a>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="content">
            <!-- Dashboard Section -->
            <section id="dashboard" class="view-section active">
                <header>
                    <h1>City Overview</h1>
                    <p class="subtitle">UrbanMove Rent Analytics.</p>
                </header>

                <div class="stats-grid">
                    <div class="stat-card glass">
                        <h3>Avg Rent</h3>
                        <div class="value" id="avg-rent-stat">Loading...</div>
                        <div class="stat-subtitle" id="rent-range-stat"></div>
                    </div>
                    <div class="stat-card glass">
                        <h3>Total Listings</h3>
                        <div class="value" id="total-listings-stat">Loading...</div>
                    </div>
                    <div class="stat-card glass">
                        <h3>Cities</h3>
                        <div class="value" id="cities-count-stat">Loading...</div>
                    </div>
                    <div class="stat-card glass">
                        <h3>Median Rent</h3>
                        <div class="value" id="med-rent-stat">Loading...</div>
                    </div>
                </div>

                <div class="charts-container">
                    <div class="chart-box glass">
                        <h3>Rent Distribution by City</h3>
                        <canvas id="cityChart"></canvas>
                    </div>
                </div>
            </section>

            <!-- Map Section -->
            <section id="map-view" class="view-section">
                <header>
                    <h1>Spatial Analysis</h1>
                    <p class="subtitle">Clustering & Affordability Heatmap</p>
                    <p class="subtitle" style="font-size: 0.85rem; margin-top: 0.25rem;">
                        Tip: Click anywhere on the map or on a marker to open that exact location in Google Maps.
                    </p>
                </header>
                <div class="map-container glass">
                    <div id="map"></div>
                </div>
            </section>

            <!-- Prediction Section -->
            <section id="predict" class="view-section">
                <header>
                    <h1>UrbanMove Rent Analytics</h1>
                    <p class="subtitle">Estimate fair market rent using a data-driven Random Forest model</p>
                </header>
                <div class="predict-layout">
                    <div class="form-container glass">
                        <form id="predict-form">
                            <div class="form-group">
                                <label>City</label>
                                <select id="city" name="city" required>
                                    <option value="Mumbai">Mumbai</option>
                                    <option value="Bangalore">Bangalore</option>
                                    <option value="Delhi">Delhi</option>
                                    <option value="Kolkata">Kolkata</option>
                                    <option value="Chennai">Chennai</option>
                                    <option value="Hyderabad">Hyderabad</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Area Locality (Optional)</label>
                                <input type="text" id="locality" name="locality" placeholder="e.g., Bandra, Andheri">
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>BHK</label>
                                    <input type="number" id="bhk" name="bhk" value="2" min="1" required>
                                </div>
                                <div class="form-group">
                                    <label>Size (sqft)</label>
                                    <input type="number" id="size" name="size" value="850" min="100" required>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Bathrooms</label>
                                    <input type="number" id="bathroom" name="bathroom" value="2" min="1" required>
                                </div>
                                <div class="form-group">
                                    <label>Area Type</label>
                                    <select id="area_type" name="area_type" required>
                                        <option value="Super Area">Super Area</option>
                                        <option value="Carpet Area">Carpet Area</option>
                                        <option value="Built Area">Built Area</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Furnishing</label>
                                    <select id="furnishing" name="furnishing" required>
                                        <option value="Semi-Furnished">Semi-Furnished</option>
                                        <option value="Unfurnished">Unfurnished</option>
                                        <option value="Furnished">Furnished</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label>Tenant Preferred</label>
                                    <select id="tenant" name="tenant" required>
                                        <option value="Bachelors/Family">Bachelors/Family</option>
                                        <option value="Bachelors">Bachelors</option>
                                        <option value="Family">Family</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <label>Bathroom Type</label>
                                <select id="bathroom_type" name="bathroom_type" required>
                                    <option value="Standard">Standard</option>
                                    <option value="Attached">Attached</option>
                                    <option value="Common">Common</option>
                                    <option value="En-suite">En-suite</option>
                                </select>
                            </div>
                            <button type="submit" class="btn-primary">Predict Rent</button>
                        </form>
                    </div>
                    <div class="result-panel">
                        <div class="result-container glass" id="result-box" style="display:none;">
                            <h3>Estimated Rent</h3>
                            <div class="price" id="prediction-result">Rs 0</div>
                            <p class="disclaimer">Based on historical market data.</p>
                        </div>
                        <div class="market-insights-container glass" id="market-insights-box" style="display:none;">
                            <div class="recommendations-header">
                                <h3>Market Position</h3>
                                <p class="subtitle small">How your estimate compares with similar listings.</p>
                            </div>
                            <div id="market-insights-content"></div>
                        </div>
                        <div class="trend-forecast-container glass" id="trend-forecast-box" style="display:none;">
                            <div class="trend-forecast-head">
                                <div>
                                    <h3>Rent Trend Forecast</h3>
                                    <p class="subtitle small">Monthly trend + short-term forecast for your selected market.</p>
                                </div>
                                <div class="trend-controls">
                                    <label for="trend-horizon">Horizon</label>
                                    <select id="trend-horizon">
                                        <option value="3">3M</option>
                                        <option value="6" selected>6M</option>
                                        <option value="12">12M</option>
                                    </select>
                                </div>
                            </div>
                            <div class="trend-forecast-summary" id="trend-forecast-summary"></div>
                            <div class="trend-chart-wrap">
                                <canvas id="trendForecastChart"></canvas>
                            </div>
                        </div>
                        <div class="recommendations-container glass" id="recommendations-box" style="display:none;">
                            <div class="recommendations-header">
                                <h3>Suggested Locations</h3>
                                <p class="subtitle small">Based on your preferences and predicted rent.</p>
                            </div>
                            <div id="recommendations-list"></div>
                        </div>
                        <div class="budget-advisor-container glass" id="budget-advisor-box" style="display:none;">
                            <div class="recommendations-header">
                                <h3>Budget Advisor</h3>
                                <p class="subtitle small">Top localities ranked by budget fit and livability.</p>
                            </div>
                            <div id="budget-advisor-list"></div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="trnd-view" class="view-section">
                <header>
                    <h1>TRND - Trends & Forecast</h1>
                    <p class="subtitle">City/locality rent trend chart with 3/6/12 month forecast.</p>
                </header>
                <div class="glass page-block">
                    <div class="mini-form-row">
                        <input type="text" id="trnd-city" placeholder="City (e.g., Mumbai)">
                        <input type="number" id="trnd-bhk" min="1" value="2" placeholder="BHK">
                        <input type="text" id="trnd-locality" placeholder="Locality (optional)">
                        <select id="trnd-horizon">
                            <option value="3">3M</option>
                            <option value="6" selected>6M</option>
                            <option value="12">12M</option>
                        </select>
                        <button class="btn-primary mini-btn" id="trnd-load-btn">Load Trend</button>
                    </div>
                    <div id="trnd-summary" class="mini-status"></div>
                    <div class="trend-chart-wrap page-chart">
                        <canvas id="trndChart"></canvas>
                    </div>
                </div>
            </section>

            <section id="comp-view" class="view-section">
                <header>
                    <h1>COMP - Compare Listings</h1>
                    <p class="subtitle">Compare selected listing IDs side by side.</p>
                </header>
                <div class="glass page-block">
                    <div class="mini-form-row">
                        <input type="text" id="compare-ids" placeholder="IDs, e.g., 1,5,12">
                        <button class="btn-primary mini-btn" id="compare-load-btn">Compare</button>
                    </div>
                    <div id="compare-summary" class="mini-status"></div>
                    <div id="compare-result" class="result-list"></div>
                </div>
            </section>

            <section id="score-view" class="view-section">
                <header>
                    <h1>SCORE - Locality Scorecard</h1>
                    <p class="subtitle">Rank localities by affordability, livability, trend proxy, and demand.</p>
                </header>
                <div class="glass page-block">
                    <div class="mini-form-row">
                        <input type="text" id="score-city" placeholder="City (optional)">
                        <input type="number" id="score-bhk" min="1" value="2" placeholder="BHK">
                        <button class="btn-primary mini-btn" id="score-load-btn">Load Scorecard</button>
                    </div>
                    <div id="score-result" class="result-list"></div>
                </div>
            </section>

            <section id="alrt-view" class="view-section">
                <header>
                    <h1>ALRT - Saved Alerts</h1>
                    <p class="subtitle">Create and check alerts for budget-friendly listings.</p>
                </header>
                <div class="glass page-block">
                    <div class="mini-form-row">
                        <input type="text" id="alert-name" placeholder="Alert name">
                        <input type="text" id="alert-city" placeholder="City">
                        <input type="number" id="alert-bhk" min="1" value="2" placeholder="BHK">
                        <input type="number" id="alert-budget" min="1000" value="30000" placeholder="Budget">
                        <button class="btn-primary mini-btn" id="alert-create-btn">Save Alert</button>
                        <button class="btn-primary mini-btn" id="alert-check-btn">Check Alerts</button>
                    </div>
                    <div id="alerts-list" class="result-list"></div>
                    <div id="alerts-check-result" class="result-list"></div>
                </div>
            </section>

            <section id="sim-view" class="view-section">
                <header>
                    <h1>SIM - Similar Homes</h1>
                    <p class="subtitle">Find top similar listings for a property profile.</p>
                </header>
                <div class="glass page-block">
                    <div class="mini-form-row">
                        <input type="text" id="sim-city" placeholder="City" value="Mumbai">
                        <input type="number" id="sim-bhk" min="1" value="2" placeholder="BHK">
                        <input type="number" id="sim-size" min="100" value="850" placeholder="Size">
                        <input type="number" id="sim-bath" min="1" value="2" placeholder="Bath">
                        <button class="btn-primary mini-btn" id="sim-load-btn">Find Similar</button>
                        <button class="btn-primary mini-btn" id="sim-use-last-btn">Use Last Prediction</button>
                    </div>
                    <div id="sim-result" class="result-list"></div>
                </div>
            </section>

            <section id="anom-view" class="view-section">
                <header>
                    <h1>ANOM - Price Intelligence</h1>
                    <p class="subtitle">Underpriced, fair, and overpriced tagging using model residuals.</p>
                </header>
                <div class="glass page-block">
                    <div class="mini-form-row">
                        <input type="text" id="anom-city" placeholder="City" value="Mumbai">
                        <input type="number" id="anom-bhk" min="1" value="2" placeholder="BHK">
                        <input type="number" id="anom-limit" min="10" max="150" value="50" placeholder="Limit">
                        <button class="btn-primary mini-btn" id="anom-load-btn">Analyze Prices</button>
                    </div>
                    <div id="anom-summary" class="mini-status"></div>
                    <div id="anom-result" class="result-list"></div>
                </div>
            </section>

            <section id="comm-view" class="view-section">
                <header>
                    <h1>COMM - Commute Planner</h1>
                    <p class="subtitle">Recommendations with commute-aware scoring.</p>
                </header>
                <div class="glass page-block">
                    <div class="mini-form-row">
                        <input type="text" id="comm-city" placeholder="City" value="Mumbai">
                        <input type="number" id="comm-bhk" min="1" value="2" placeholder="BHK">
                        <input type="number" id="comm-budget" min="1000" value="35000" placeholder="Budget">
                        <input type="text" id="comm-work-city" placeholder="Work city" value="Mumbai">
                        <button class="btn-primary mini-btn" id="comm-load-btn">Find Commute-Friendly</button>
                    </div>
                    <div id="comm-result" class="result-list"></div>
                </div>
            </section>

            <section id="lab-view" class="view-section">
                <header>
                    <h1>LAB - Model Lab</h1>
                    <p class="subtitle">Confidence, what-if, explainability, monitoring, and retrain controls.</p>
                </header>
                <div class="glass page-block">
                    <div id="lab-confidence" class="mini-status">Run a prediction to see confidence range.</div>
                    <div class="mini-form-row">
                        <button class="btn-primary mini-btn" id="lab-whatif-btn">Run What-If</button>
                        <button class="btn-primary mini-btn" id="lab-explain-btn">Explain Last Prediction</button>
                        <button class="btn-primary mini-btn" id="lab-monitor-btn">Load Monitoring</button>
                        <button class="btn-primary mini-btn" id="lab-retrain-btn">Run Retrain Pipeline</button>
                    </div>
                    <div id="lab-whatif-result" class="result-list"></div>
                    <pre id="lab-explain-result" class="mini-pre"></pre>
                    <pre id="lab-monitor-result" class="mini-pre"></pre>
                    <pre id="lab-retrain-result" class="mini-pre"></pre>
                </div>
            </section>
        </main>
    </div>
    <script src="script.js"></script>
</body>

</html>

